(()=>{"undefined"==typeof GrpcClient&&console.error("GrpcClient não carregado. Verifique se grpc_client.bundle.js foi incluído.");const e=new GrpcClient.GatewayServiceClient("http://localhost:8080",null,null);document.getElementById("demo")&&window.addEventListener("DOMContentLoaded",()=>{!async function(){const t=new GrpcClient.ListarLeiloesRequest;console.log("Buscando leilões via gRPC-Web..."),e.listarLeiloes(t,{},(e,t)=>{if(e){console.error("gRPC-Web error:",e.message);const t=document.getElementById("demo");return void(t&&(t.textContent="Erro: "+e.message))}!function(e){const t=document.getElementById("demo");if(0===e.length)return void(t.innerHTML="<p>Nenhum leilão encontrado</p>");let n='<div style="display: grid; gap: 20px;">';e.forEach(e=>{const t="ativo"===e.status?"ativo":"inativo";n+=`\n            <div style="border: 1px solid #ccc; padding: 15px; border-radius: 8px;">\n                <h3>${e.nome}</h3>\n                <p>${e.descricao}</p>\n                <p><strong>Status:</strong> <span class="${t}">${e.status}</span></p>\n                <p><strong>Valor Inicial:</strong> R$ ${e.valor_inicial.toFixed(2)}</p>\n                <p><strong>Início:</strong> ${new Date(e.inicio).toLocaleString("pt-BR")}</p>\n                <p><strong>Fim:</strong> ${new Date(e.fim).toLocaleString("pt-BR")}</p>\n                ${"ativo"===e.status?`<button onclick="registrarInteresse(${e.id})">Registrar Interesse</button>`:""}\n            </div>\n        `}),n+="</div>",t.innerHTML=n}(t.getLeiloesList().map(e=>({id:e.getId(),nome:e.getNome(),descricao:e.getDescricao(),inicio:e.getInicio(),fim:e.getFim(),valor_inicial:e.getValorInicial(),status:e.getStatus()})))})}()})})();